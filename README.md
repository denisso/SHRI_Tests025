# Домашняя работа: Тестирование с Playwright и Vitest

## Общая информация

* Для тестирования используются библиотеки **Playwright** и **Vitest**.

* Все тесты находятся в папке `tests` в корне репозитория.

* Перед запуском тестов необходимо запустить тестовый сервер:

  ```bash
  npx run dev
  ```

  и сервер **backend**.

* Запуск тестов осуществляется по имени теста на английском языке.

---

## Playwright тесты

Для запуска отдельных Playwright-тестов используется команда:

```bash
npx playwright test -g "test name"
```

### Покрытые сценарии

#### Загрузка таблиц с данными, аналитика и прогресс обработки

* **"file upload messages changes"**
  Проверяется изменение текста под кнопкой **Отправить** во время загрузки файла на сервер.

* **"query with gradual data output"**
  Тестируется запрос с постепенной выдачей данных. Проверяется изменение поля `rows_affected` в компоненте **highlights**.

* **"ending case a zero-length file"**
  Обработка краевого случая — загрузка файла нулевой длины (без содержимого).

#### Генератор тестовых данных

* **"generate test data"**
  Проверка корректной загрузки тестового файла в систему.

#### История загрузок (ключевая фича по запросу клиентов)

* **"test add report"**
  Проверка добавления отчета в историю загрузок (сохраняется в `localStorage`).

* **"test delete report"**
  Проверка удаления отчета из истории загрузок.

#### Навигационное меню

* **"navigation"**
  Проверка переходов между страницами через `react-router`.

---

## Vitest тесты

Для запуска тестов vitest используется 

```bash
npx vitest test "относительный путь"
```

### Навигационное меню

* **"tests/module/5_nav.test.tsx"**
  Тестирование маршрутизации с сделанное с использованием  `react-router`.

* **"tests/module/1_analytics.test.tsx"**
  Тестирование реализация запроса с постепенным получением данных на странице аналитики
  Тестирование запроса с неправильным файлом


